using services and dependency injection